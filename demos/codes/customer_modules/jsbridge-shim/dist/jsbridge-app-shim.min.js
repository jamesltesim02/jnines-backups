!function(t){function e(t,e){var n,a=t.requestId;return t.data=t.data?encodeURIComponent(JSON.stringify(t.data)):"",$.ajax({url:"/gateway",type:"POST",async:e,data:t,dataType:"json",success:function(t){t&&(e?JSCallback(JSON.stringify({requestId:a,method:"callback",data:JSON.stringify(t)})):n=JSON.stringify({requestId:a,data:t,status:!0}))},error:function(t){var o=JSON.stringify({requestId:a,method:"callback",code_http:500,message:"访问接口失败",status:!1,data:JSON.stringify({code_http:500,message:"访问接口失败",status:!1})});e?JSCallback(o):n=o}}),n}var n;t.ENV_MODEL="dev";var a={net:function(t){return e(t,!0)},cache:function(t){return e(t,!1)},ui:function(t){"loading"==t.method&&$.loading[t.data.state]()},driver:function(t){function e(e){return{status:!0,requestId:t.requestId,data:JSON.stringify(e)}}return JSON.stringify({live800:function(){window.open("https://www.lecheng5288.com/chat/chatClient/chatbox.jsp?companyID=9001&configID=15&k=1")},toggleGesture:function(){JSCallback({method:"notifyToggleGesture",data:{isShow:t.data.isShow}})},toggleGesture:function(){JSCallback({method:"notifyToggleGesture",data:{isShow:t.data.isShow}})},resetGesture:function(){$.toast.success("弹出手势密码修改")},getSessionId:function(){return e({sessionId:"12345"})},deviceInfo:function(){return e({drice_id:"12345",drice_type:"android"})}}[t.method]())},forward:function(t){var e,a=t.data.url,o=CustomerUtils.getCustomer();"inside"===t.method?a="/"+a:CustomerUtils.isLoged()&&((e=a.split("#"))[0]+=e[0].indexOf("?")>-1?"&":"?",e[0]+="appToken="+JSBridge.cache.get("appToken"),e[0]+="&userToken="+o.user_token,e[0]+="&accountName="+o.login_name,e.length>1&&(e[0]+="#"+e[1]),a=e[0]);{if(!t.data.browser)return t.data.newView?opener?void(location=a):n&&!n.closed?void(n.location=a):void(n=window.open(a)):void(location=a);window.open(a)}}};t.appClient={appInvoke:function(t){var e=JSON.parse(t);return a[e.service](e)}},t.onBridgeFinished=function(){setTimeout(function(){JSBridge.cache.save("domain","http://m.918.com/"),JSBridge.cache.save("cdnurl","http://m.918.com/"),JSBridge.cache.save("appToken","jrutx92l1a33jjbi68rcel2951toxjvt5me7gsbcqa2t9rqcd33mbhq8ln2nhq63"),JSCallback({method:"loadFinish"})},200)}}(window);