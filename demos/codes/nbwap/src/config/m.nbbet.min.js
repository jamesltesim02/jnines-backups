(function(w) {
  // 配置入口
  var c = w.NBConfig = {};

  // API地址
  c.URL_API = "http://uat.nbapi.nbbets.com/web_pull/";
  // WS推送地址
  c.URL_WS = "ws://uat.nbapi.nbbets.com/web_push/";
  // 静态资源地址 (图片,字体等)
  // 线上
  // c.URL_STATIC = "http://uat.staticm.nbbets.com";
  // 本地
  c.URL_STATIC = "http://10.96.52.35:2401/";
  // 语言文件地址
  c.URL_LANGUAGE = {
    "zh-cn":  c.URL_STATIC + "assets/locale/zh-cn.js",
    "en-us":  c.URL_STATIC + "assets/locale/en-us.js"
  };
  // 样式文件地址
  c.URL_STYLE =  c.URL_STATIC + "style.css";
  // NB入口文件地址
  c.URL_ENTRY = c.URL_STATIC + "main.js";
  // NBBet渲染入口函数名
  c.NB_RENDER_FUNCTION = "nbBetRenderer";

  /**
   * 暴露给商户的入口API
   */
  w.NBBet = {
    initOpts: null,
    readyed: false,
    /**
     * 初始化API
     */
    init: function (opts) {
      this.initOpts = opts;
      this.doInit();
    },
    /**
     * (NBBet内部使用)当NBBet准备就绪时触发的事件
     */
    ready: function () {
      this.readyed = true;
      // 调用初始化
      this.doInit();
    },
    /**
     * (NBBet内部使用)执行初始化
     */
    doInit: function () {
      this.initOpts 
        && this.readyed 
        && w[c.NB_RENDER_FUNCTION] 
        && w[c.NB_RENDER_FUNCTION](this.initOpts);
    }
  };

  // 引入入口js
  var entryScript = document.createElement("script");
  entryScript.src = c.URL_ENTRY;
  document.getElementsByTagName("head")[0].appendChild(entryScript);
})(window)
