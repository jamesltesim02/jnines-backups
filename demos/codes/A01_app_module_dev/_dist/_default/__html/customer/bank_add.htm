<!DOCTYPE html><html><head><title>博天堂娱乐-娱乐航母,博彩天堂</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimum-scale=1,maximum-scale=1"><meta name="format-detection" content="telephone=no"></head><body onclick="toggleSupport()"><link rel="stylesheet" href="../../__modules/ui-common/dist/ui-common.min.css"><link rel="stylesheet" href="../../__css/main.css"><template id="hImageTmpl"><a-img :src="src" remote="true"></a-img></template><template id="aImageTmpl"><div class="img-loader loading"><img ref="imgComp" :data-src="src"></div></template><template id="appTmpl"><div class="app-container"><div style="display:none" id="proTitle">{{title}}</div><app-content></app-content></div></template><template id="contentTmpl"><div class="display_flex_h bank_info"><div class="main_content"><div class="add_bank_card_content _03" v-show="isBodyVisible"><div class="layout_form"><form action="" method="post"><div class="form_field_wrap"><div class="form_field"><span class="label">持卡人姓名</span><div class="input_wrap txt_right"><div class="reservedInfo"><input read-only="" class="txt_right" type="text" readonly v-bind:value="mixed(bank_account_name)"></div></div></div><div class="form_field"><span class="label">开户行</span><div class="input_wrap txt_right"><select v-model="bank_name" v-on:change="bankNameSelect"><option value="">请选择收款银行类别</option><option value="招商银行">招商银行</option><option value="交通银行">交通银行</option><option value="农业银行">农业银行</option><option value="工商银行">工商银行</option><option value="建设银行">建设银行</option><option value="中国银行">中国银行</option><option value="民生银行">民生银行</option><option value="光大银行">光大银行</option><option value="兴业银行">兴业银行</option><option value="平安银行">平安银行</option><option value="中信银行">中信银行</option><option value="浦发银行">浦发银行</option><option value="广发银行">广发银行</option><option value="华夏银行">华夏银行</option><option value="中国邮政银行">中国邮政银行</option><option value="深圳发展银行">深圳发展银行</option><option value="农村信用合作社">农村信用合作社</option></select></div></div><div class="form_field"><span class="label">卡片类别</span><div class="input_wrap txt_right"><select v-model="bank_account_type"><option value="借记卡">借记卡</option><option value="信用卡">信用卡</option><option value="存折">存折</option></select></div></div><div class="form_field"><span class="label">卡号</span><div class="input_wrap txt_right"><input v-model.trim="bank_account_no" class="txt_right" type="text" placeholder="输入银行卡号" maxlength="19"></div></div><div class="form_field"><span class="label">开户省份</span><div class="input_wrap txt_right"><select v-model.trim="bank_country" id="prov" name="province"><option v-for="p in provinces" :value="p">{{p || "请选择省份"}}</option></select></div></div><div class="form_field"><span class="label">开户城市</span><div class="input_wrap txt_right"><select v-model.trim="bank_city" id="accountcity" name="city"><option v-for="c in citys" :value="c">{{c || "请选择城市"}}</option></select></div></div><div class="form_field"><span class="label">开户网点</span><div class="input_wrap txt_right"><input v-model.trim="branch_name" class="txt_right" type="text" placeholder="输入开户网点" maxlength="19"></div></div></div><p style="text-align:center;padding-top:15px;color:#d19538" v-show="!isVisible">绑定此银行取款较慢，取款24小时内到账！</p><div class="form_btn-wrap" v-if="bank_card_num>0"><a @click="saveBank" class="btn btn-lg btn-blu3" style="width:40%;float:left;font-size:1.2rem;line-height:40px;height:auto;padding:1px 3px">保存</a> <a @click="saveDefaultBank" class="btn btn-lg btn-ylw" style="width:50%;float:right;font-size:1.2rem;line-height:40px;height:auto;padding:1px 3px">保存并设置为取款卡</a></div><div class="form_btn-wrap" v-else=""><a @click="saveBank" class="btn btn-lg btn-ylw">下一步</a></div></form></div></div></div></div></template><div id="container"></div><script>!function(n){var t;n.ENV_MODEL="app",n.appState=(t={},{getData:function(){return t},setData:function(n){t=Object.assign(t,n)}}),n.appInstance=null,n.bus=null}(window)</script><script src="../../__js/common/constant.js"></script><script src="../../__modules/es6-shim/es6-shim.min.js"></script><script src="../../__modules/es7-shim/dist/es7-shim.min.js"></script><script src="../../__modules/hybrid-fastclick/dist/hybrid-fastclick.min.js"></script><script src="../../__modules/jquery/dist/jquery.min.js"></script><script src="../../__modules/jsbridge-core/dist/jsbridge-core.min.js"></script><script src="../../__modules/jsbridge-util/dist/jsbridge-util.min.js"></script><script src="../../__modules/vue/dist/vue.min.js"></script><script src="../../__modules/ui-common/dist/ui-common.min.js"></script><script src="../../__modules/business-util/dist/business-util.min.js"></script><script src="../../__js/modules/dropload.min.js"></script><script src="../../__modules/iscroll/build/iscroll.js"></script><script src="../../__js/common/utils.js"></script><script src="../../__modules/city-dic/dist/city-dic.min.js"></script><script>Vue.component("h-img",{template:"#hImageTmpl",props:["src"]}),function(){function e(e){this.quee=[],this.loaded=!1,this.type=e}e.prototype={loadImage:function(e){var t=e.dataset.src;"remote"==this.type&&(t=OtherUtils.getStaticurl()+t),e.src=t},add:function(e){if(this.loaded)return this.loadImage(e);this.quee.push(e)},load:function(){for(;this.quee&&this.quee.length;)this.loadImage(this.quee.shift());this.loaded=!0}};var t=new e("local"),a=new e("remote");Vue.component("a-img",{template:"#aImageTmpl",props:["src","remote"],watch:{src:function(e,t){var a=this.$refs.imgComp;this.remote&&(e=OtherUtils.getStaticurl()+e),a.src="",a.src=e,a.parentNode.className="img-loader loading"}},mounted:function(){var e=this.$refs.imgComp;e.onload=function(){this.parentNode.className="img-loader"},e.onerror=function(e){this.onload()},this.loadImage()},methods:{loadImage:function(){(this.remote?a:t).add(this.$refs.imgComp)}}}),window.addEventListener("load",t.load.bind(t)),JSBridge.onReady(a.load.bind(a))}(),window.App=Vue.extend({template:"#appTmpl",data:function(){return{title:""}}}),FastClick.attach(document.body,{tapDelay:100}),function(){var e={bank_account_name:"",bank_name:"",bank_account_type:"借记卡",bank_account_no:"",bank_country:"",bank_city:"",branch_name:"",save_default:0,provinces:CityUtils.getProvinces(),citys:[""],isBodyVisible:!1,isVisible:!0,bank_card_num:0,infoCompleted:!1};function t(){var t=e,n=a();JSBridge.cache.save("bankCardAddSuccessData",{data:{save_default:t.save_default,method:n<3?"phone":"manual",isOk:!0},outtime:(new Date).getTime()+9e4},1),JSBridge.forward.inside({url:"customer/bank_add_success.htm",newView:!0})}function a(){var e=0,t=JSBridge.cache.get("bankCardPhoneVerifyTimesData");return t&&(new Date).getTime()<t.outtime&&(e=t.data.times?parseInt(t.data.times):0),e}appState.setData({needLogin:!0,title:"添加银行卡"}),Vue.component("app-content",{template:"#contentTmpl",data:function(){return e},watch:{bank_country:function(e,t){this.citys=CityUtils.getCitys(this.bank_country),this.bank_city=""}},methods:{bankNameSelect:function(){var e=this.bank_name;this.isVisible="工商银行"==e||"农业银行"==e||"建设银行"==e||"招商银行"==e||"交通银行"==e||"中国银行"==e},saveDefaultBank:function(){this.save_default=1,this.saveBank()},saveBank:function(){var e=this;if(getexpire())return!0;""!=e.bank_name?""!=e.bank_account_type?/[\d]+\*/.test(e.bank_account_no)||/^\d{16,19}$/.test(e.bank_account_no)?e.bank_country?e.bank_city?e.branch_name.match(/^[^\s\"\'\`\,]{2,20}$/)?(setexpire(),JSBridge.net.invoke({url:"bankcard/update?XDEBUG_SESSION_START",data:{bank_account_name:e.bank_account_name,bank_name:e.bank_name,bank_account_type:e.bank_account_type,bank_account_no:e.bank_account_no,bank_country:e.bank_country,bank_city:e.bank_city,branch_name:e.branch_name,bank_flag:1,save_default:e.save_default},success:function(e){a()<3&&JSBridge.net.invoke({url:"apply/approve",data:{request_id:e.request_id,request_type:"06"},success:function(e){}}),t()},error:function(e){console.log(e),t()}})):$.toast.fail("请正确输入开户网点,且长度必须在 2和 20之间"):$.toast.fail("请正确选择开户城市"):$.toast.fail("请正确选择开户省份"):$.toast.fail("银行账号一般长度在16至19位"):$.toast.fail("请正确选择卡片类别"):$.toast.fail("请正确选择银行类型")},mixed:function(e){var t=e.length;return e=e&&e.slice(0,1)+"*".repeat(t-2)+e.slice(t-1,t)}}}),JSBridge.onReady(function(){var t=e;new Promise(function(e,a){if(t.infoCompleted)return e();CheckUtil.infoCompleted(function(a){t.bank_account_name=a.real_name,e()},a)}).then(function(){var e=JSBridge.cache.get("bindingBankCardCountData");e&&(new Date).getTime()<e.outtime?(t.bank_card_num=e.data,t.save_default=t.bank_card_num>0?0:1):JSBridge.forward.inside({url:"customer/bank_list.htm",newView:!0}),t.bank_card_num>0?CheckUtil.mobileBinded(function(){var e,n=a();JSBridge.cache.save("bankCardVerifyMothodData",{data:{phone:n<3,manual:n>=3},outtime:(new Date).getTime()+6e5},1),(e=JSBridge.cache.get("bankCardAddStatusData"))&&(new Date).getTime()<e.outtime&&(JSBridge.cache.delete("bankCardAddStatusData"),1)?t.isBodyVisible=!0:JSBridge.forward.inside({url:"customer/bank_method.htm",newView:!0})},function(){JSBridge.forward.inside({url:"customer/bind_mobile.htm",newView:!0})}):t.isBodyVisible=!0},function(){JSBridge.forward.inside({url:"customer/personal_info.htm?from="+OtherUtils.getPath(),newView:!0})})})}()</script><script>var e=appState.getData();function a(){var e=$(".header_index .pop_support");e.hasClass("hide")||0!=e.attr("is_show")||e.addClass("hide")}bus=new Vue,e.needLogin&&!CustomerUtils.isLoged()?JSBridge.onReady(function(){JSBridge.forward.inside({url:"common/login.htm?from="+OtherUtils.getPath(),newView:"true"})}):appInstance=new App({el:"#container",data:e})</script></body></html>