<!DOCTYPE html><html><head><title>博天堂娱乐-娱乐航母,博彩天堂</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimum-scale=1,maximum-scale=1"><meta name="format-detection" content="telephone=no"></head><body onclick="toggleSupport()"><link rel="stylesheet" href="../../__modules/ui-common/dist/ui-common.min.css"><link rel="stylesheet" href="../../__css/main.css"><style>.dropload-down,.dropload-up{position:relative;height:0;overflow:hidden;font-size:12px;-webkit-transform:translateZ(0);transform:translateZ(0)}.dropload-down{height:50px}.dropload-load,.dropload-noData,.dropload-refresh,.dropload-update{height:50px;line-height:50px;text-align:center}.dropload-load .loading{display:inline-block;height:15px;width:15px;border-radius:100%;margin:6px;border:2px solid #666;border-bottom-color:transparent;vertical-align:middle;-webkit-animation:rotate .75s linear infinite;animation:rotate .75s linear infinite}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0)}50%{-webkit-transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes rotate{0%{transform:rotate(0)}50%{transform:rotate(180deg)}100%{transform:rotate(360deg)}}</style><template id="hImageTmpl"><a-img :src="src" remote="true"></a-img></template><template id="aImageTmpl"><div class="img-loader loading"><img ref="imgComp" :data-src="src"></div></template><template id="appTmpl"><div class="app-container"><div style="display:none" id="proTitle">{{title}}</div><app-content></app-content></div></template><template id="contentTmpl"><div class="main_content"><section class="record_content"><ul id="container"><li v-for="item in list" class="record-item"><div @click="itemSelect($event)"><input type="checkbox" v-bind:value="item.reference_id"><label></label></div><div class="cl1"><span>{{new Date(Date.parse(item.created_date)).Format('MM-dd')}}</span><br><span>{{new Date(Date.parse(item.created_date)).Format('HH:mm')}}</span></div><div class="cl2"><img class="deposit-type" v-bind:src="'../../__static/__images/deposittypes/'+getTransType(item.trans_code)+'.png'"></div><div class="cl3"><span class="yellow2">{{item.amount}}元</span><br><span>{{item.reference_id}}</span></div><div class="cl4"><span class="lbue2">{{status(item.status)}}</span></div></li></ul><div class="delete-bx" v-if="list.length!=0"><div class="item"><div class="item-select-all"><input class="select-item-cb" type="checkbox" name="" value=""><label @click="allSelect"></label></div><div class="sub-item txt-bx"><h3>全选</h3></div><div id="deleteAllButton" @click="del" class="sub-item txt2-bx button"><h3>删除 <span class="icon icon72"></span></h3></div></div></div></section></div></template><div id="container"></div><script>!function(n){var t;n.ENV_MODEL="app",n.appState=(t={},{getData:function(){return t},setData:function(n){t=Object.assign(t,n)}}),n.appInstance=null,n.bus=null}(window)</script><script src="../../__js/common/constant.js"></script><script src="../../__modules/es6-shim/es6-shim.min.js"></script><script src="../../__modules/es7-shim/dist/es7-shim.min.js"></script><script src="../../__modules/hybrid-fastclick/dist/hybrid-fastclick.min.js"></script><script src="../../__modules/jquery/dist/jquery.min.js"></script><script src="../../__modules/jsbridge-core/dist/jsbridge-core.min.js"></script><script src="../../__modules/jsbridge-util/dist/jsbridge-util.min.js"></script><script src="../../__modules/vue/dist/vue.min.js"></script><script src="../../__modules/ui-common/dist/ui-common.min.js"></script><script src="../../__modules/business-util/dist/business-util.min.js"></script><script src="../../__js/modules/dropload.min.js"></script><script src="../../__modules/iscroll/build/iscroll.js"></script><script src="../../__js/common/utils.js"></script><script>Vue.component("h-img",{template:"#hImageTmpl",props:["src"]}),function(){function e(e){this.quee=[],this.loaded=!1,this.type=e}e.prototype={loadImage:function(e){var t=e.dataset.src;"remote"==this.type&&(t=OtherUtils.getStaticurl()+t),e.src=t},add:function(e){if(this.loaded)return this.loadImage(e);this.quee.push(e)},load:function(){for(;this.quee&&this.quee.length;)this.loadImage(this.quee.shift());this.loaded=!0}};var t=new e("local"),n=new e("remote");Vue.component("a-img",{template:"#aImageTmpl",props:["src","remote"],watch:{src:function(e,t){var n=this.$refs.imgComp;this.remote&&(e=OtherUtils.getStaticurl()+e),n.src="",n.src=e,n.parentNode.className="img-loader loading"}},mounted:function(){var e=this.$refs.imgComp;e.onload=function(){this.parentNode.className="img-loader"},e.onerror=function(e){this.onload()},this.loadImage()},methods:{loadImage:function(){(this.remote?n:t).add(this.$refs.imgComp)}}}),window.addEventListener("load",t.load.bind(t)),JSBridge.onReady(n.load.bind(n))}(),window.App=Vue.extend({template:"#appTmpl",data:function(){return{title:""}}}),FastClick.attach(document.body,{tapDelay:100}),function(){var e={list:[],date_start:"",date_end:"",page_num:"1",page_size:"5",total:1,days:""};appState.setData({needLogin:!0,title:"存款记录"}),Vue.component("app-content",{template:"#contentTmpl",data:function(){return e},beforeMount:function(){var e=this;e.days=$.getParam("days",1),e.days=parseInt(e.days)||1;var t=dateTool.getBetweenByDays(e.days);e.date_start=t[0],e.date_end=t[1]},mounted:function(){},methods:{status:function(e){switch(e){case"2":return"添加成功";case"0":return"处理中";case"97":return"等待付款";case"98":return"取消";case"99":return"超时";case"-3":return"提案拒绝"}},getTransType:function(e){return{1:"icon-deposit-type_5",2:"icon-deposit-type_01",3:"icon-deposit-type_04",4:"icon-deposit-type_02",5:"icon-deposit-type_02",6:"icon-deposit-type_03",7:"icon-deposit-type_02"}[e]},itemSelect:function(e){$(e.currentTarget).hasClass("item-select")?($(e.currentTarget).removeClass("item-select"),$(e.currentTarget).find("input[type='checkbox']").prop("checked",!1)):($(e.currentTarget).addClass("item-select"),$(e.currentTarget).find("input[type='checkbox']").prop("checked",!0))},allSelect:function(e){var t=$(e.currentTarget);t.prev().prop("checked")?(t.prev().prop("checked",!1),$("#container li input").prop("checked",!1)):(t.prev().prop("checked",!0),$("#container li input").prop("checked",!0))},del:function(){var e=[],t=this;$("input[type='checkbox']:checked").each(function(){e.push($(this).val())}),console.log(e),0!=e.length?JSBridge.net.invoke({url:"logs/del",data:{ids:e.join(","),type:"02"},success:function(e){e&&$.toast.success("删除成功",function(){JSBridge.forward.inside({url:"customer/log_payment.htm?days="+t.days,newView:!0})})},error:function(){$.toast.fail("删除失败")}}):$.toast.fail("没有可删除的选项")}}}),JSBridge.onReady(function(){var t=e;$(window).ready(function(){$.once(function(){$("#container").dropload({scrollArea:window,domDown:{},loadDownFn:function(e){JSBridge.net.invoke({url:"logs/payment",data:{created_date_begin:t.date_start,created_date_end:t.date_end,pageNum:t.page_num,pageSize:t.page_size},success:function(n){if(console.log(n.list),n.list.length>0){for(var o in n.list)t.list.push(n.list[o]);$(".dropload-down").hide(),t.page_num++}else e.lock(),e.noData();e.resetload()},error:function(){e.resetload()}})}})})})})}()</script><script>var e=appState.getData();function a(){var e=$(".header_index .pop_support");e.hasClass("hide")||0!=e.attr("is_show")||e.addClass("hide")}bus=new Vue,e.needLogin&&!CustomerUtils.isLoged()?JSBridge.onReady(function(){JSBridge.forward.inside({url:"common/login.htm?from="+OtherUtils.getPath(),newView:"true"})}):appInstance=new App({el:"#container",data:e})</script></body></html>