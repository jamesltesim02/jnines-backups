<!DOCTYPE html><html><head><title>博天堂娱乐-娱乐航母,博彩天堂</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,minimum-scale=1,maximum-scale=1"><meta name="format-detection" content="telephone=no"></head><body onclick="toggleSupport()"><link rel="stylesheet" href="../../__modules/ui-common/dist/ui-common.min.css"><link rel="stylesheet" href="../../__css/main.css"><template id="hImageTmpl"><a-img :src="src" remote="true"></a-img></template><template id="aImageTmpl"><div class="img-loader loading"><img ref="imgComp" :data-src="src"></div></template><template id="appTmpl"><div class="app-container"><div style="display:none" id="proTitle">{{title}}</div><app-content></app-content></div></template><template id="contentTmpl"><div class="transfer_content"><div class="nav-tab"><a class="tab-item active">棋牌转账 <span class="icon icon88"></span></a> <a forward="forward" newview="true" href="customer/transferPT.htm" class="tab-item">PT转账 <span class="icon icon88"></span></a></div><div class="transfer_box box1"><div class="box" v-bind:class="reverse?'box1' : ''"><p class="value"><span class="amount">{{canUse}}</span> 元</p><p class="label">主账户</p></div><div class="transfer_btn"><a @click="reverse = !reverse"><i class="icon icon89"></i></a></div><div class="box" v-bind:class="!reverse?'box1': ''"><p class="value"><span class="amount amount-game">{{apCredit}}</span> 元</p><p class="label">棋牌游戏</p></div><div class="extraimg"><img v-show="!reverse" src="../../__static/__images/transfer/img1.png" class="arrow-in"> <img v-show="reverse" src="../../__static/__images/transfer/img2.png" class="arrow-out"></div></div><div class="layout_form"><form action="" method="post"><div class="form_field_wrap"><div class="form_field"><span class="label">转账金额</span><div class="input_wrap txt_right"><input type="text" v-model="amount" placeholder="最少转移1元"></div></div></div><div class="form_btn-wrap"><a @click="transfer" href="javascript: void(0);" class="btn btn-lg btn-ylw">确定</a></div></form></div></div></template><div id="container"></div><script>!function(n){var t;n.ENV_MODEL="app",n.appState=(t={},{getData:function(){return t},setData:function(n){t=Object.assign(t,n)}}),n.appInstance=null,n.bus=null}(window)</script><script src="../../__js/common/constant.js"></script><script src="../../__modules/es6-shim/es6-shim.min.js"></script><script src="../../__modules/es7-shim/dist/es7-shim.min.js"></script><script src="../../__modules/hybrid-fastclick/dist/hybrid-fastclick.min.js"></script><script src="../../__modules/jquery/dist/jquery.min.js"></script><script src="../../__modules/jsbridge-core/dist/jsbridge-core.min.js"></script><script src="../../__modules/jsbridge-util/dist/jsbridge-util.min.js"></script><script src="../../__modules/vue/dist/vue.min.js"></script><script src="../../__modules/ui-common/dist/ui-common.min.js"></script><script src="../../__modules/business-util/dist/business-util.min.js"></script><script src="../../__js/modules/dropload.min.js"></script><script src="../../__modules/iscroll/build/iscroll.js"></script><script src="../../__js/common/utils.js"></script><script>Vue.component("h-img",{template:"#hImageTmpl",props:["src"]}),function(){function t(t){this.quee=[],this.loaded=!1,this.type=t}t.prototype={loadImage:function(t){var e=t.dataset.src;"remote"==this.type&&(e=OtherUtils.getStaticurl()+e),t.src=e},add:function(t){if(this.loaded)return this.loadImage(t);this.quee.push(t)},load:function(){for(;this.quee&&this.quee.length;)this.loadImage(this.quee.shift());this.loaded=!0}};var e=new t("local"),o=new t("remote");Vue.component("a-img",{template:"#aImageTmpl",props:["src","remote"],watch:{src:function(t,e){var o=this.$refs.imgComp;this.remote&&(t=OtherUtils.getStaticurl()+t),o.src="",o.src=t,o.parentNode.className="img-loader loading"}},mounted:function(){var t=this.$refs.imgComp;t.onload=function(){this.parentNode.className="img-loader"},t.onerror=function(t){this.onload()},this.loadImage()},methods:{loadImage:function(){(this.remote?o:e).add(this.$refs.imgComp)}}}),window.addEventListener("load",e.load.bind(e)),JSBridge.onReady(o.load.bind(o))}(),window.App=Vue.extend({template:"#appTmpl",data:function(){return{title:""}}}),FastClick.attach(document.body,{tapDelay:100}),function(){var t={localCredit:0,couponCredit:0,apCredit:0,loadCount:0,amount:"",reverse:!1};appState.setData({title:"棋牌转账",needLogin:!0}),Vue.component("app-content",{template:"#contentTmpl",data:function(){return t},computed:{canUse:function(){return t.loadCount>=3?Math.max(parseInt(100*+this.localCredit-100*+this.couponCredit-100*+this.apCredit)/100,0).toFixed(2):"加载中..."}},methods:{transfer:function(){if(t.loadCount<3)$.toast.fail("正在初始化余额");else if(parseInt(this.amount)!=this.amount||this.amount<1)$.toast.fail("请输入正确的金额");else{if(this.reverse){if(parseFloat(this.amount)>this.apCredit)return void $.toast.fail("转账额度超出棋牌厅余额")}else if(parseFloat(this.amount)>this.canUse)return void $.toast.fail("转账额度超出可转余额");this.amount.match(/^[1-9][0-9]*[\.]{0,1}[\d]{0,2}$/)?JSBridge.net.invoke({url:"credits/transfer",data:{game_name:"AP",amount:this.amount,type:this.reverse?1:0},success:function(t){$.toast.success("转账成功",function(){JSBridge.forward.inside({url:"customer/member_center.htm"})})},error:function(t){t&&"非常抱歉，您的转账功能尚未开启"==t.message?$.toast.fail(t.message):$.toast.fail("转账出错,请联系客服")}}):$.toast.fail("转账金额最少金额为1元,且最大允许2位小数")}}}}),JSBridge.onReady(function(){JSBridge.net.invoke({url:"credits/total",success:function(e){t.localCredit=(+e||0).toFixed(2),t.loadCount++},error:function(t){$.toast.fail("查询额度出错,请联系客服",function(){JSBridge.forward.inside({url:"customer/member_center.htm"})})}}),JSBridge.net.invoke({url:"credits/getCouponAmount",success:function(e){t.couponCredit=(+e||0).toFixed(2),t.loadCount++},error:function(t){$.toast.fail("查询额度出错,请联系客服",function(){JSBridge.forward.inside({url:"customer/member_center.htm"})})}}),JSBridge.net.invoke({url:"credits/game",data:{game_name:"AP"},success:function(e){t.apCredit=(+e||0).toFixed(2),t.loadCount++},error:function(t){$.toast.fail("查询额度出错,请联系客服",function(){JSBridge.forward.inside({url:"customer/member_center.htm"})})}})})}()</script><script>var e=appState.getData();function a(){var e=$(".header_index .pop_support");e.hasClass("hide")||0!=e.attr("is_show")||e.addClass("hide")}bus=new Vue,e.needLogin&&!CustomerUtils.isLoged()?JSBridge.onReady(function(){JSBridge.forward.inside({url:"common/login.htm?from="+OtherUtils.getPath(),newView:"true"})}):appInstance=new App({el:"#container",data:e})</script></body></html>