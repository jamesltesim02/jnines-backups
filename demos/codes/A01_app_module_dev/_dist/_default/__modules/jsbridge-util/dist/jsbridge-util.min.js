!function(e,t){var i=e.document;i.querySelector.bind(i),i.querySelectorAll.bind(i);!function(e,t,i,n,r){var o=t.body;!function(){var e,t,i,n,r;e={invoke:function(e){var t;return e||(e={}),e.type="net.invoke",e.data&&(t=e.data),e.data={apiUrl:e.url,loading:!1!==e.loading,params:t},delete e.url,JSBridge.invoke(e)},invokeSync:function(e,t){return new Promise(function(i,n){JSBridge.net.invoke({url:e,data:t,success:i,error:n})})},invokeAll:function(){var e=arguments;return 1==arguments.length&&(e=Array.isArray(arguments[0])?arguments[0]:[arguments[0]]),Promise.all(Array.prototype.map.call(e,function(e,t){return JSBridge.net.invokeSync(e.url,e.data)}))}},t={save:function(e,t,i){var n={cacheValue:t};void 0===i&&(i=0),i>1&&(n.expire=Date.now()+i),JSBridge.invoke({type:"cache.save",data:{key:e,value:JSON.stringify(n),expire:i}})},update:function(e,t,i){JSBridge.invoke({type:"cache.update",data:{key:e,value:JSON.stringify({cacheValue:t}),expire:i}})},get:function(e){var i,n=JSBridge.invoke({type:"cache.get",data:{key:e}});if(n&&(i=JSON.parse(n).data)){if(!((i=JSON.parse(i)).expire&&Date.now()>i.expire))return i.cacheValue;t.delete(e)}},delete:function(e){JSBridge.invoke({type:"cache.delete",data:{key:e}})},clear:function(){JSBridge.invoke({type:"cache.clear"})}},i=function(){return{inside:function(e){JSBridge.invoke({type:"forward.inside",data:e})},outside:function(e){JSBridge.invoke({type:"forward.outside",data:e})}}}(),r=function(){function e(e){if(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.warn(e)}if(e.data&&"string"==typeof(e=e.data))try{e=JSON.parse(e)}catch(e){console.warn(e)}return e}}return{IPSUnread:function(e){JSBridge.invoke({type:"driver.IPSUnread",data:{num:e}})},live800:function(e){JSBridge.invoke({type:"driver.live800",data:{customer_id:e}})},live800ol:function(){JSBridge.invoke({type:"driver.live800ol",data:{}})},copy:function(e){JSBridge.invoke({type:"driver.copy",data:{value:e}})},game:function(e,t){var i,n={};if(n.gameCode=e,"object"==typeof t)for(i in t)n[i]=t[i];JSBridge.invoke({type:"driver.game",data:n})},log:function(){JSBridge.invoke({type:"driver.log",data:{}})},clearCookie:function(){JSBridge.invoke({type:"driver.clearCookie"})},deviceInfo:function(){return e(JSBridge.invoke({type:"driver.deviceInfo"}))},toggleGesture:function(e,t){JSBridge.invoke({type:"driver.toggleGesture",data:{isShow:e},success:t})},resetGesture:function(e){JSBridge.invoke({type:"driver.resetGesture",data:{},success:e})},getVersion:function(t){var i=JSBridge.invoke({type:"driver.getVersion",data:{},success:t});if(!t)return e(i)},checkUpdate:function(){JSBridge.invoke({type:"driver.checkUpdate",data:{}})},getSessionId:function(){return e(JSBridge.invoke({type:"driver.getSessionId"}))},getParentId:function(){return e(JSBridge.invoke({type:"driver.getParentId"}))}}}(),n=function(){var e,t,i;return e=function(e){"hide"===e&&!i||"show"===e&&i||(i="show"==e,JSBridge.invoke({type:"ui.loading",loading:!1,data:{state:e}}))},e.show=function(t){e("show"),t&&!Number.isNaN(t)&&setTimeout(function(){e.hide()},t)},e.hide=function(){e("hide")},t=function(e,t){JSBridge.invoke({type:"ui.toast",data:{msg:e,delay:t}})},{loading:e,toast:t}}(),Object.assign(JSBridge,{net:e,cache:t,forward:i,driver:r,ui:n})}();o.addEventListener("click",function(e){var t,i,n,a,d,c,u=e.target;if((t=function(e){var t=void 0;for(;e&&e!==o;){if(e.getAttribute("forward")){t=e;break}e=e.parentNode}return t}(u))&&(i=t.getAttribute("href"),!/^javascript:.*/i.test(i)))return e.stopPropagation(),e.cancelBubble=!1,e.preventDefault(),n=t.getAttribute("method")||"inside",c=t.getAttribute("theme")||"0",a=!!t.getAttribute("newview"),d=!!t.getAttribute("browser"),r.forward[n]({url:i,newView:a,browser:d,theme:c}),!1}),function(){function t(){i&&n&&setTimeout(function(){JSCallback({method:"onReady"})},0)}var i=!1,n=!1;r.loadFinish(function(){i=!0,t()}),e.onload=function(){n=!0,t()}}()}(e,i,0,0,e.JSBridge)}(window);