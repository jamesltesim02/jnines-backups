!function(e){"use strict";function r(e){return parseInt(e)||0}function t(e){var r=0;o=[],e&&e.length&&e.forEach(function(e,t){var i=function(e){var r,t;if(e&&e.length)return r={},e.forEach(function(e,t){r[n[t]]=e}),r.loginId=r.gameId,"BS"==r.provider&&(r.provider="BSG",3==(t=r.loginId.split("_")).length&&(r.loginId=t[a])),r}(e);o.push(i),l[i.provider+i.gameId]=r++})}function i(e){var t,i=Object.assign({},s,e),n=[];if(console.log("conditions:",e),o&&o.length)return o.forEach(function(e,r){(function(e,r){if(!e)return!1;if(!r)return!0;if(r.keyword){if(r.keyword=decodeURIComponent(r.keyword),-1==e.cnName.indexOf(r.keyword))return!1;if(1!=r.strongWord)return!0}return!!(c.range(e.provider+e.gameId,r.range)&&c.provider(e.provider,r.provider)&&c.gameType(e.gameType,r.gameType)&&c.line(e.line,r.line)&&c.isMatch(e.isPool,r.isPool)&&c.isMatch(e.isNew,r.isNew)&&c.isMatch(e.isRecommend,r.isRecommend)&&c.isMatch(e.isSpecial,r.isSpecial)&&c.isMatch(e.canTry,r.canTry))})(e,i)&&n.push(e)}),n=function(e,t){return["asc","desc"].includes(t.orderMaxPrize)||["asc","desc"].includes(t.orderPraise)||["asc","desc"].includes(t.orderPopularity)||["asc","desc"].includes(t.orderStar)?e.sort(function(e,i){var n,a,o=0,l=0,s=0,c=0;return["asc","desc"].includes(t.orderMaxPrize)?(n=r(e.maxPrize),a=r(i.maxPrize),"asc"==t.orderMaxPrize?o=n-a:"desc"==t.orderMaxPrize&&(o=a-n),o||-1):(n=r(e.praise),a=r(i.praise),"asc"==t.orderPraise?l=n-a:"desc"==t.orderPraise&&(l=a-n),0!=l?l:(n=r(e.popularity),a=r(i.popularity),"asc"==t.orderPopularity?s=n-a:"desc"==t.orderPopularity&&(s=a-n),0!=s?s:(n=r(e.star),a=r(i.star),"asc"==t.orderStar?c=n-a:"desc"==t.orderStar&&(c=a-n),c||-1)))}):e}(n,i),t=function(e,r,t){var i,n,a,o,l;return r=r||s.page,t=t||s.pageItems,a=e?e.length:0,n=Math.ceil(a/t),o=t*(r-1),l=o+t,i=e?e.slice(o,l):[],{data:i,totalPage:n,totalRecord:a,page:r,pageItems:t}}(n,i.page,i.pageItems),t.condition=i,console.log(t),t}var n={0:"gameId",1:"provider",2:"enName",3:"cnName",4:"gameType",5:"gameStyle",6:"line",7:"playerType",8:"isPool",9:"canTry",10:"popularity",11:"maxMultiple",12:"betTimes",13:"maxPrize",14:"star",15:"grade",16:"icon",17:"poolUrl",18:"isNew",19:"isRecommend",20:"special",21:"specialJackpot",22:"praise",23:"remark",24:"phone",25:"language",26:"isHot",27:"isPromotion"},a={android:0,ios:1,other:2}[function(){var e=navigator.appVersion.toLowerCase();return e.indexOf("android")>-1?"android":e.indexOf("mac")>-1?"ios":"other"}()],o=[],l={},s={provider:"All",gameType:"All",line:"All",keyword:null,strongWord:!1,isPool:"All",isNew:"All",isRecommend:"All",isSpecial:"All",canTry:"All",orderMaxPrize:null,orderPraise:null,orderPopularity:null,orderStar:null,page:1,pageItems:12,range:null},c={provider:function(e,r){return!r||"All"==r||(Array.isArray(r)?r.includes(e):e==r)},gameType:function(e,r){return!r||"All"==r||(Array.isArray(r)?r.includes(e):e==r)},line:function(e,t){var i,n,a,o,l;if(!t||"All"==t)return!0;for(o=r(e),Array.isArray(t)||(t=[t]),l=0;l<t.length;l++)if(i=t[l].split("-"),n=r(i[0]),a=r(i[i.length-1]),o>=n&&o<=a)return!0;return!1},range:function(e,r){return!r||!Array.isArray(r)||!!r.length&&r.includes(e)},isMatch:function(e,r){if("All"==r)return!0;if(!r&&0!=r)return!0;if(1==r){if("1"==e)return!0}else if("1"!=e)return!0;return!1}};t(e.games),e.WG={search:function(e){var r=Date.now(),t=i(e);return console.log("查询耗时:"+(Date.now()-r)),t},getGame:function(e,r){var t,i;if(o&&e&&r&&(console.log(l),t=e+r,"number"==typeof(i=l[t])))return o[i]},initGames:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.log("初始化游戏出错:",e)}t(e)},CONSTANT:{provider:[{key:"All",text:"全部平台"},{key:"PT",text:"PT"},{key:"MG",text:"MG"},{key:"TTG",text:"TTG"},{key:"AG",text:"AG"}],gameType:[{key:"All",text:"All"},{key:1,text:"老虎机"},{key:2,text:"桌面游戏"},{key:3,text:"纸牌"},{key:4,text:"街机游戏"},{key:6,text:"赛车"},{key:7,text:"刮刮乐"},{key:8,text:"视频扑克"},{key:9,text:"拉霸"},{key:10,text:"消消乐"},{key:11,text:"转轮游戏"},{key:12,text:"3D老虎机"},{key:5,text:"其他"}],line:[{key:"All",text:"全部赔付线"},{key:"1-4",text:"1-4线"},{key:"5-9",text:"5-9线"},{key:"15-25",text:"15-25线"},{key:"30-50",text:"30-50线"},{key:"51-243",text:"51-243线"}],playerType:[{key:"all",text:"All"},{key:"1",text:"小额玩家"},{key:"2",text:"中级玩家"},{key:"3",text:"高富帅玩家"}]}}}(window);