!function(t,e){"use strict";var n=e("body");!function(){function t(t,d,f,l){if(f&&"number"!=typeof f&&"function"!=typeof f)throw new Error("second argument must be number of duration or function of callback.");o||(o=e(c),i=o.find("img.toast-icon"),s=o.find("div.toast-message"),o.appendTo(n)),a&&clearTimeout(a),i.attr("src","../../__static/__images/icons/toast-"+t+".png"),s.html(d||"&nbsp;"),o.hide().fadeIn("fast"),"function"==typeof f&&(l=f,f=null),f||(f=r),a=setTimeout(function(){a=null,o.fadeOut("fast",l)},f)}var o,i,s,a,r=1500,c='<div class="toast"><div class="toast-content"><img class="toast-icon" src=""><div class="toast-message">提示信息</div></div></div>';e.extend({toast:{success:function(e,n,o){t("success",e,n,o)},fail:function(e,n,o){t("fail",e,n,o)}}})}(),function(){var t,o='<div class="loading container"><div class="common-cover center"><section class="range"><span></span><span></span></section></div></div>';e.extend({loading:{show:function(){t||(t=e(o),n.append(t)),t.hide().fadeIn("fast"),n.addClass("covered")},hide:function(){t&&t.fadeOut("fast",function(){n.removeClass("covered")})}}}),e(function(){})}(),e.fn.extend({getFields:function(){var t,n,o,i,s,a={},r=this.find(":input:not([disabled],.disabled)");for(t=0;t<r.length;t++)if(n=r.eq(t),o=n.attr("name")){if(i=n.val(),n.is(":radio,:checkbox")){if(!n[0].checked)continue;i=i||"on"}(s=a[o])?e.isArray(s)?s.push(i):a[o]=[i]:a[o]=i}return a}}),function(){function t(t){if(!t.content)throw new Error("The pop must have content.");this.settings=t,this.init()}var t;t.prototype={init:function(){var t,o,i,s,a,r,c=this,d=this.settings,f="",l={};t=this.comp=e('<div class="pop container"><div class="common-cover center"><div class="dialog"><a class="btn-close close-operate button"></a><section><h3></h3><div class="content"></div></section><div class="d-footer"></div></div></div></div>'),o=this.closeBtn=t.find(".btn-close"),i=this.title=t.find("h3"),s=this.content=t.find(".content"),a=this.footer=t.find(".d-footer"),d.close||o.hide(),d.title?i.html(d.title):i.hide(),-1!=d.content.indexOf(":")?(s.css("text-align","left"),s.html("<p>"+decodeURIComponent(d.content.replace(":",":<br><br></p><p>"))+"</p>")):s.html(decodeURIComponent(d.content)),d.operations&&d.operations.length||(d.operations=[{text:"确定"}]),e.each(d.operations,function(t,e){l[r="opt-"+t]=e.event,f+="<a"+(!1!==e.close?' class="close-operate"':"")+' data-event="'+r+'" herf="javascript: void(0);">'+e.text+"</a>"}),a.append(f).addClass("cols-"+d.operations.length),t.on("click","a",function(t){var n=e(this),o=l[n.data("event")];o&&o.call(c,{target:c}),n.is(".close-operate")&&c.close()}),t.on("click","img.captcha_img",function(){this.src="genCaptcha.htm?t="+(new Date).getTime()}),n.append(this.comp),this.comp.hide()},show:function(){this.comp.fadeIn("fast",function(){n.addClass("covered")})},close:function(){var t=this.comp;n.removeClass("covered"),t.fadeOut("fast",function(){t.remove()})},getComponent:function(){return this.comp}},e.extend({pop:{alert:function(){"string"!=typeof arguments[1]&&Array.prototype.unshift.call(arguments,void 0),e.pop.msg(arguments[0],arguments[1],[{text:"确定",event:arguments[2]}])},confirm:function(){"string"!=typeof arguments[1]&&Array.prototype.unshift.call(arguments,void 0),e.pop.msg(arguments[0],arguments[1],[{text:"确定",event:arguments[2]},{text:"取消",event:arguments[3]}])},msg:function(){var e,n,o,i=arguments,s=!1;return"boolean"==typeof i[0]&&(s=i[0],Array.prototype.shift.call(i)),"string"!=typeof i[1]?(e=void 0,n=i[0],o=i[1]):(e=i[0],n=i[1],o=i[2]),new t({close:s,title:e,content:n,operations:o}).show()}}})}(),function(){var n,o,i=e(t),s=0,a=!1;e.fn.extend({upIn:function(t){var r,c=e(this);return t&&"function"==typeof t?o=t:o&&o.call(c,{target:c,srcElement:c}),e(document).scroll(function(e){var o=i.scrollTop(),d=o+i.height(),f=c.offset()?c.offset().top:0;c.height();n=s<o?"up":"down",s=o,f>o&&f<d?(clearTimeout(r),r=setTimeout(function(){a=!0,e.target=e.srcElement=c[0],t.call(c,e)},100)):a=!1}),c}})}(),function(){var t={};location.search&&location.search.replace(/^\?/,"").split("&").forEach(function(e,n){var o=e.split("=");t[o[0]]=o[1]}),e.extend({getParam:function(e,n){return t.hasOwnProperty(e)?t[e]:n},once:function(){var t=!0;return function(e){if(t)return t=!1,e()}}()})}(),function(){var t,n,o,i=navigator.userAgent,s=/great-winner/gi.test(i),a={isApp:s};s&&(o=/great-winner,Mobile$/.test(i)?"Android":"iOS",(t=i.replace(/(.*app_version=)|(\s*great-winner.*)/,"")).split(".").forEach(function(t,e){n+=("000"+t).substr(-3)}),Object.assign(a,{platform:o,isAndroid:"Android"==o,isIOS:"iOS"==o,version:t,versionCode:n})),e.extend({appVersion:function(){return a}})}(),function(){function n(){var t=arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd HH:mm:ss";if(!t)return"";if(!(t instanceof Date)&&"number"!=typeof t)throw new TypeError("Parameter source:"+t+" is not a Date or Number.");if(!e||"string"!=typeof e)throw new Error("Parameter pattern:"+e+" is not a valid date format pattern.");"number"==typeof t&&(t=new Date(t));var n={yy:t.getFullYear()%100,yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),hh:t.getHours()%12,HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds()};return e.replace(/yyyy|yy|MM|dd|HH|hh|mm|ss/g,function(t){return("0000"+n[t]).substr(-t.length)})}if(Date.format=n,Date.prototype.Format=function(t){return n(this,t)},e.appVersion().isIOS){var o=function(){var t=Date.prototype,n=[t.setFullYear,t.setMonth,t.setDate,t.setHours,t.setMinutes,t.setSeconds,t.setMilliseconds];return function(){var t=new Date;return e.map(arguments,function(e,o){1==o&&(e-=1),n[o].call(t,e||0)}),t.getTime()}}();Date.parse=function(){var t=arguments;return t&&t.length?("string"==typeof t[0]&&(t=t[0].split(/[\s\-\:T\.]/gi)),console.log(Array.prototype.join.call(t,",")),o.apply(Date,t)):0}}t.dateTool={day:864e5,week:7,getBetweenByDays:function(t){var e,n,o=new Date;return n=o.Format("yyyy-MM-dd HH:mm:ss"),o.setTime(o.getTime()-t*this.day),e=o.Format("yyyy-MM-dd 00:00:00"),new Array(e,n)},getBetweenByWeeks:function(t){var e,n,o=new Date;return n=o.Format("yyyy-MM-dd HH:mm:ss"),o.setTime(o.getTime()-t*this.week*this.day),e=o.Format("yyyy-MM-dd 00:00:00"),new Array(e,n)}}}()}(window,jQuery);